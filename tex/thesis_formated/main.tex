\documentclass[11pt,a4paper,oneside,listof=totoc,bibliography=totoc]{scrreprt}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{csquotes}
\usepackage{lipsum} % for blindtext
\usepackage[backend=biber,url=true,style=numeric,  sorting=none]{biblatex} 
\usepackage{graphicx} % for images
\usepackage{float}
\usepackage{array,booktabs}  %for tables
\usepackage{url}
\usepackage{xspace}
\usepackage{enumitem}

% Configure URL breaking
\usepackage{breakurl}
\Urlmuskip=0mu plus 1mu\relax % Allow URL breaking at any character
\def\UrlBreaks{\do\/\do-\do.\do_\do?\do&\do=\do\%}

\usepackage{hyperref}
\usepackage[ngerman,english]{babel} 
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{amsmath, amssymb}
\usepackage{xargs}
\usetikzlibrary{arrows.meta}
\usepackage{rotating}  % Put this in your preamble
\usetikzlibrary{positioning, shapes.multipart}
\usetikzlibrary{calc}
\usepackage{subcaption}
\usepackage{amsthm}  % already often used for theorems/definitions
\usepackage{listings}
\usepackage{xcolor}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{requirement}{Requirement}[chapter]

% ----------------------------------------------
% Settings
% ----------------------------------------------
% set bib file (source references.bib)
\bibliography{../master-thesis.bib}
\graphicspath{ {./figures/} }

% Better line breaking and hyphenation
\sloppy % Allow more flexible line breaking
\emergencystretch=10pt % Add extra stretch to help with line breaking
\hyphenpenalty=50 % Reduce penalty for hyphenation
\exhyphenpenalty=50 % Reduce penalty for explicit hyphens
\widowpenalty=10000 % Prevent widows
\clubpenalty=10000 % Prevent orphans

% Better handling of URLs and long text
\usepackage{microtype} % Improves typography and helps with overfull boxes
\microtypesetup{protrusion=true,expansion=true}

%listings
\definecolor{codegray}{gray}{0.95}
\definecolor{keywordcolor}{rgb}{0.36,0.15,0.80}
\definecolor{stringcolor}{rgb}{0.31,0.60,0.02}
\definecolor{commentcolor}{gray}{0.4}

\input{listings/listings-definitions.tex}

% definitions for tables
\newcommand {\otoprule}{\midrule [\heavyrulewidth]}
\newcolumntype {+}{ >{\global\let\currentrowstyle\relax}}
\newcolumntype {^}{ >{\currentrowstyle }}
 \newcommand {\rowstyle}[1]{\gdef\currentrowstyle{#1} %
 #1\ignorespaces
 }
\newcommand{\tabhead}{\rowstyle{\bfseries}}

\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}

% Improved code command that allows line breaks
\usepackage{xparse}
\NewDocumentCommand{\code}{m}{%
  \begingroup
  \ttfamily
  \hyphenchar\font=`\-% Enable hyphenation in typewriter font
  \allowbreak
  #1%
  \endgroup
}

% Alternative inline code command with better breaking
\newcommand{\inlinecode}[1]{%
  \begingroup
  \ttfamily
  \fontdimen2\font=0.4em% Adjust inter-word space
  \fontdimen3\font=0.2em% Adjust inter-word stretch
  \fontdimen4\font=0.1em% Adjust inter-word shrink
  \hyphenchar\font=`\-% Enable hyphenation
  #1%
  \endgroup
}

\usepackage[shortcuts, acronym]{glossaries}
\makeglossaries
\input{acronyms}

\begin{document}
\input{meta/metadata}
\input{meta/title}


\pagenumbering{alph}

\input{meta/disclaimer}
\input{chapters/abstract}


\tableofcontents

% --------------------------------------------
% Main Matter
% --------------------------------------------
\pagenumbering{arabic}

\input{chapters/introuction.tex}
\input{chapters/theoretical_background.tex}
\input{chapters/relatedwork.tex}
\input{chapters/requirements.tex}
\input{chapters/architecture.tex}
\input{chapters/implementation.tex}
\input{chapters/testing.tex}
\input{chapters/deployment.tex}
\input{chapters/usage.tex}
\input{chapters/discussion-conclusion.tex}




% --------------------------------------------
% Backmatter starts here
% --------------------------------------------
\printbibliography{} % bibliography
\appendix
\input{chapters/appendix}

\section*{List of Acronyms}
\printglossary[type=\acronymtype, title=List of Acronyms]

\listoffigures{}
\listoftables{} 
\clearpage
\phantomsection
\renewcommand{\lstlistingname}{Listing}
\renewcommand{\lstlistlistingname}{Code Listings}
% scrreprt option 'listof=totoc' already adds lists to the TOC, so avoid double entry
%\addcontentsline{toc}{chapter}{List of Code Listings}
\lstlistoflistings

\end{document}